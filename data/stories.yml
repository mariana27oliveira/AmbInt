version: "3.1"

stories:


- story: marcar consulta 
  steps:
  - intent: consulta
  - action: utter_numero_utente
  - intent: nr_utente
  - action: utter_especialidade
  - intent: especialidade
  - action: valida_especialidade
  - action: utter_data
  - intent: data
  - action: utter_preferencia
  - intent: preferencia
  - action: action_preferencia
  - action: agendar_consulta
  - intent: despedida
  - action: utter_despedida


- story: especialidade 
  steps:
  - intent: consulta
  - action: utter_numero_utente
  - intent: nr_utente
  - action: utter_especialidade
  - intent: especialidade
  - action: valida_especialidade



- story: interactive_story_1
  steps:
  - intent: consulta
  - action: utter_numero_utente
  - intent: nr_utente
    entities:
    - nr_utente: '111111111'
  - slot_was_set:
    - nr_utente: '111111111'
  - action: utter_especialidade
  - intent: especialidade
    entities:
    - especialidade: Ortopedia
  - slot_was_set:
    - especialidade: Ortopedia
  - action: utter_data
  - intent: data
    entities:
    - data: 29-08-2023
  - slot_was_set:
    - data: 29-08-2023
  - action: utter_preferencia
  - intent: preferencia
    entities:
    - preferencia: manha
  - slot_was_set:
    - preferencia: manha
  - action: agendar_consulta
  - intent: despedida
  - action: utter_despedida


- story: interactive_story_1
  steps:
  - intent: consulta
  - action: utter_numero_utente
  - intent: nr_utente
    entities:
    - nr_utente: '111111111'
  - slot_was_set:
    - nr_utente: '111111111'
  - action: utter_especialidade
  - intent: especialidade
    entities:
    - especialidade: Ortopedia
  - slot_was_set:
    - especialidade: Ortopedia
  - action: utter_data
  - intent: data
    entities:
    - data: 27-06-2023
  - slot_was_set:
    - data: 27-06-2023
  - action: utter_preferencia
  - intent: preferencia
    entities:
    - preferencia: tarde
  - slot_was_set:
    - preferencia: tarde
  - action: action_preferencia
  - action: agendar_consulta
  - intent: despedida
  - action: utter_despedida


- story: Listar Consultas
  steps:
  - intent: listar_consultas
  - action: utter_ask_nr_utente
  - intent: nr_utente
    entities:
    - nr_utente: '190054321'
  - slot_was_set:
    - nr_utente: '190054321'
  - action: action_listar_consultas
  - intent: despedida
  - action: utter_despedida


- story: cancelar_consulta
  steps:
  - intent: cancelar 
  - action: utter_numero_utente
  - intent: nr_utente
    entities:
    - nr_utente: '123456789'
  - slot_was_set:
    - nr_utente: '123456789'
  - action: utter_especialidade_cancelar
  - intent: especialidade
    entities:
    - especialidade: oftalmologia
  - slot_was_set:
    - especialidade: oftalmologia
  - action: utter_data_cancelamento
  - intent: data
    entities:
    - data: 27-06-2023
  - slot_was_set:
    - data: 27-06-2023
  - action: cancelar_consulta



- story: interactive_story_1
  steps:
  - intent: cancelar
  - action: utter_numero_utente
  - intent: nr_utente
    entities:
    - nr_utente: '789789789'
  - slot_was_set:
    - nr_utente: '789789789'
  - action: utter_especialidade_cancelar
  - intent: especialidade
    entities:
    - especialidade: Oftalmologia
  - slot_was_set:
    - especialidade: Oftalmologia
  - action: utter_data_cancelamento
  - intent: data
    entities:
    - data: 27-05-2023
  - slot_was_set:
    - data: 27-05-2023
  - action: cancelar_consulta
  - intent: despedida
  - action: utter_despedida


- story: interactive_story_1
  steps:
  - intent: consulta
  - action: utter_numero_utente
  - intent: nr_utente
    entities:
    - nr_utente: '123456789'
  - slot_was_set:
    - nr_utente: '123456789'
  - action: utter_especialidade
  - intent: especialidade
    entities:
    - especialidade: Oftalmologia
  - slot_was_set:
    - especialidade: Oftalmologia
  - action: utter_data
  - intent: data
    entities:
    - data: 20-04-2024
  - slot_was_set:
    - data: 20-04-2024
  - action: utter_preferencia
  - intent: preferencia
    entities:
    - preferencia: manha
  - slot_was_set:
    - preferencia: manha
  - action: action_preferencia
  - action: agendar_consulta
  - intent: despedida
  - action: utter_despedida

- story: Reagendar Consulta aceitar
  steps:
  - intent: saudacao
  - action: utter_saudacao
  - intent: nome
    entities:
    - nome: Maria
  - slot_was_set:
    - nome: Maria
  - action: utter_questionar
  - intent: reagendar_consulta
    entities:
    - data: 27 de maio
    - nova_data: 27/06
    - preferencia: tarde
  - slot_was_set:
    - data: 27 de maio
  - slot_was_set:
    - preferencia: tarde
  - slot_was_set:
    - nova_data: 27/06
  - action: utter_ask_nr_utente
  - intent: nr_utente
    entities:
    - nr_utente: '190054321'
  - slot_was_set:
    - nr_utente: '190054321'
  - action: action_confirmar_reagendar_consulta
  - slot_was_set:
    - nova_data: 27-06-2023
  - slot_was_set:
    - hora: 14:00
  - slot_was_set:
    - especialidade: Cardiologia
  - intent: aceitar
  - action: action_reagendar_consulta
  - slot_was_set:
    - data: null
  - slot_was_set:
    - nova_data: null
  - slot_was_set:
    - hora: null
  - slot_was_set:
    - especialidade: null
  - slot_was_set:
    - preferencia: null
  - intent: despedida
  - action: utter_despedida

- story: Reagendar Consulta negar
  steps:
  - intent: saudacao
  - action: utter_saudacao
  - intent: nome
    entities:
    - nome: Maria
  - slot_was_set:
    - nome: Maria
  - action: utter_questionar
  - intent: reagendar_consulta
    entities:
    - data: 30 de maio
    - nova_data: próximo mês
    - preferencia: manhã
  - slot_was_set:
    - data: 30 de maio
  - slot_was_set:
    - preferencia: manhã
  - slot_was_set:
    - nova_data: próximo mês
  - action: utter_ask_nr_utente
  - intent: nr_utente
    entities:
    - nr_utente: '190054321'
  - slot_was_set:
    - nr_utente: '190054321'
  - action: action_confirmar_reagendar_consulta
  - slot_was_set:
    - nova_data: 28-06-2023
  - slot_was_set:
    - hora: 09:30
  - slot_was_set:
    - especialidade: Cardiologia
  - intent: negar
  - action: action_listar_disponibilidade
  - slot_was_set:
    - nova_data: null
  - slot_was_set:
    - hora: null
  - intent: escolher_horario
    entities:
    - nova_data: 04 de julho
    - hora: 09:00
  - slot_was_set:
    - nova_data: 04 de julho
  - slot_was_set:
    - hora: 09:00
  - action: action_reagendar_consulta
  - slot_was_set:
    - data: null
  - slot_was_set:
    - nova_data: null
  - slot_was_set:
    - hora: null
  - slot_was_set:
    - especialidade: null
  - slot_was_set:
    - preferencia: null
  - intent: despedida
  - action: utter_despedida


  
